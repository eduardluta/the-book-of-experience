<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Book of Experience</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500&family=Caveat:wght@400;500;600&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <div id="header"></div>

    <main>
        <section class="intro">
            <span class="section-label">Introduction</span>
            <p>
                Some experiences change everything—how we see the world, what we believe, who we become. Some fears do the same. This is where those stories live. A collaborative space for the moments that shaped us, shared for the ones still being shaped.
            </p>
        </section>

        <section class="book-section">
            <div class="container">
                <div class="book-wrapper">
                    <article class="book" id="book">
                        <div class="spine"></div>

                        <div class="page">
                            <h2 class="page-question">What is the best experience you would gift someone?</h2>
                            <p class="page-answer" id="experience-text"></p>
                            <p class="page-author" id="author-left"></p>
                        </div>

                        <div class="page">
                            <h2 class="page-question">What is your biggest fear?</h2>
                            <p class="page-answer" id="fear-text"></p>
                            <p class="page-author" id="author-right"></p>
                        </div>
                    </article>

                    <div class="book-nav">
                        <button class="nav-btn next-story" id="next-btn">
                            Next Story
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section class="purpose">
            <span class="section-label">The Purpose</span>
            <p>
                Some places hold answers. This one holds possibilities. The experiences gathered here aren't ordinary—they're the ones that rewrote lives. The fears aren't weaknesses—they're shared by those who dared to face them and were shaped through their fire. Come when you're searching. Leave with a new way of seeing.
            </p>

            <a href="share-your-story.html" class="cta">
                Share your story
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
            </a>
        </section>
    </main>

    <div id="footer"></div>

    <script src="js/components.js"></script>
    <script src="js/stories.js"></script>
    <script>
        let currentIndex = 0;
        let stories = [];

        function displayStory(index, animate = true) {
            const story = stories[index];
            if (!story) return;

            const book = document.getElementById('book');

            if (animate) {
                book.classList.add('turning');
                setTimeout(() => updateStoryContent(story, book), 300);
            } else {
                updateStoryContent(story, book);
            }
        }

        function updateStoryContent(story, book) {
            document.getElementById('experience-text').textContent = story.experience;
            document.getElementById('fear-text').textContent = story.fear;
            document.getElementById('author-left').textContent = formatAuthor(story);
            document.getElementById('author-right').textContent = formatAuthor(story);
            book.classList.remove('turning');
        }

        function nextStory() {
            currentIndex = (currentIndex + 1) % stories.length;
            displayStory(currentIndex);
        }

        document.addEventListener('DOMContentLoaded', function() {
            stories = getStoriesWithDefault();
            displayStory(0, false);
            document.getElementById('next-btn').addEventListener('click', nextStory);
        });
    </script>

</body>
</html>
